import json
from api_authorisation import api

# Fetch NFL teams data
data = api.nfl.teams.list()

# Convert each team to a dictionary using Pydantic v2+ `.model_dump()`
team_data = [team.model_dump() for team in data.data]

# Write the data to a TypeScript file
with open("scripts/team-data.ts", "w") as f:
    f.write("// file generated by fetch-qb-data.py\n")
    f.write("\n")
    f.write("export const teamData = ")
    json.dump(team_data, f, indent=2)
    f.write("\n")
